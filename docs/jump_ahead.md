# Jump_Ahead

점프하여 플랫폼에 착지하는 게임

<br/>

## Index

> - [2023.01.19.](#20230119)

<br/>

## 기획

> Nexlie의 *[점프킹](https://store.steampowered.com/app/1061090/Jump_King/?l=koreana)*에서 아이디어를 얻어 제작하게 되었다.  

<br/>

## 2023.01.19.

> **Player.js**
> 중력이 적용된 오브젝트이다.  
> 마우스를 눌렀을 때 힘을 모으고, 마우스를 뗐을 때 점프를 한다.  
> 이 때 모아둔 힘이 클수록 점프를 높이 한다.
>
> 바닥에 닿음을 확인하는 것은 \_landed(착지해있다는 bool변수)가 false일 때, 즉 공중에 있을 때만 확인한다.  
> 바닥에 닿았을 때 \_landed를 true로 바꾸어준다.  
> \_landed가 true인 경우 중력을 적용시키지 않는다.
>
> 힘은 \_landed가 true일 때만 모을 수 있다.
> 마우스를 눌렀을 때 \_powering(힘을 모으는 중이라는 bool변수)를 true로 바꾸어준다.
> \_powering이 true인 경우 플레이어 오브젝트는 최대치까지 힘 변수에 힘을 모은다.
>
> 마우스를 뗐을 때 점프를 한다.  
> 힘 모으기를 멈추기에 \_powering을 false로 바꾸어준다.
> 힘을 0으로 초기화한다.
> dy에 모아둔 힘을 대입시킨다.
> 공중에 날아가므로 \_landed를 false로 바꾸어주어 중력을 적용받도록 한다.
>
> 플레이어 오브젝트에 힘모으기와 점프에 애니메이션을 추가하였다.  
> 힘을 모을 때 색이 점점 진해지고, 높이가 낮아지며, 너비가 커지고, 점프할 때 상태를 복구시킨다.  
> 힘을 모은 정도를 표기하고 역동적임을 표현할 수 있다.
>
> **Floor.js**
> 바닥 오브젝트  
> \_landed가 true일 때, 즉 플레이어가 점프 중일 때 좌측으로 이동하여 플레이어가 점프를 하며 앞으로 나아가는 듯한 모습을 보이게 하였다.  
> 해당 이동 시, 가속도를 적용하여 점프 시 수평 이동 속도가 고정이 아닌 서서히 줄어들게 하여 실제로 점프하는 듯한 모습을 보이게 하였다.
> 플레이어가 화면 밑으로 떨어지거나 벽의 옆면에 닿게 되면 탈락 처리한다.
> 플레이어가 마지막 바닥을 밟을 때마다 바닥이 추가로 재생성된다.
>
> **Player.js**
> 마우스가 플레이어부터 멀수록 ,x축의 이동속도가 빨라진다.  
> 해당 정보를 표시하기 위해 플레이어 주변에 이동방향을 알려주는 삼각형 하나를 추가하였다.
>
> **Floor.js**
> 플레이어가 벽 옆면에 닿았을 경우 바로 탈락시키지 않고 벽면에 튕긴 후 화면 아래로 떨어뜨리도록 하였다.  
> 바닥이 밑에서부터 등장하는 애니메이션을 추가하였다. 자연스러움을 위하여 가속도를 적용하였다.  
> 점수가 높아질수록 바닥의 너비가 좁아진다. 50점일 때 가장 좁아진다.
>
> **문제**
>
> > 기존에는 플레이어가 바닥에 밟기 직전인 경우에 플레이어의 y좌표 값을 바로 바닥의 y값으로 바꾸어주고 \_landed를 true로 변경하여 바닥의 이동 등 모든 움직임이 멈추도록 하였다.  
> > 이 결과 플레이어가 바닥에 닿을 때 1템포를 순간이동하는 어색함을 보였다.
>
> **해결**
>
> > 플레이어가 바닥에 닿기 직전인 경우 \_landed를 바로 실행시키지 않고 플레이어의 dy를 바닥과 플레이어의 거리로 조정해주었다.
>
> 메모리 낭비를 줄이기 위하여 그릴 필요가 없는 바닥들은 배열에서 삭제한다. (shift연산)

## 2023.01.19.

> 'click to start' 문구가 게임 중 바닥을 통해 비추어져 보이는 것을 개선하였다. [[자세히]](./essential.md#20230120)  